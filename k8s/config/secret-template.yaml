# This is a template file. DO NOT commit actual secrets to version control.
# Use external secret management (e.g., Sealed Secrets, External Secrets Operator, Vault)
# or create secrets manually using kubectl create secret

apiVersion: v1
kind: Secret
metadata:
  name: stellar-insights-secrets
  namespace: stellar-insights
  labels:
    app: stellar-insights
type: Opaque
stringData:
  # Database URL
  # Format: postgresql://username:password@host:port/database
  database-url: "postgresql://postgres:CHANGE_ME@postgresql:5432/stellar_insights"
  
  # Redis URL
  # Format: redis://host:port
  redis-url: "redis://redis:6379"
  
  # JWT Secret (must be at least 32 characters)
  # Generate with: openssl rand -base64 48
  jwt-secret: "CHANGE_ME_generate_with_openssl_rand_base64_48"
  
  # Encryption Key (must be 32-byte hex for AES-256-GCM)
  # Generate with: openssl rand -hex 32
  encryption-key: "CHANGE_ME_generate_with_openssl_rand_hex_32"
  
  # SEP-10 Server Public Key
  sep10-server-public-key: "GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
  
  # SEP-10 Home Domain
  sep10-home-domain: "stellar-insights.com"
  
  # Price Feed API Key (optional)
  price-feed-api-key: ""
  
  # Slack Webhook URL (optional)
  slack-webhook-url: ""
  
  # Telegram Bot Token (optional)
  telegram-bot-token: ""

---
# Example: Using Sealed Secrets (recommended for GitOps)
# apiVersion: bitnami.com/v1alpha1
# kind: SealedSecret
# metadata:
#   name: stellar-insights-secrets
#   namespace: stellar-insights
# spec:
#   encryptedData:
#     database-url: AgA...  # Encrypted value
#     redis-url: AgB...     # Encrypted value
#     jwt-secret: AgC...    # Encrypted value

---
# Example: Using External Secrets Operator
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: stellar-insights-secrets
#   namespace: stellar-insights
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: vault-backend
#     kind: SecretStore
#   target:
#     name: stellar-insights-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: database-url
#     remoteRef:
#       key: stellar-insights/database-url
#   - secretKey: redis-url
#     remoteRef:
#       key: stellar-insights/redis-url
